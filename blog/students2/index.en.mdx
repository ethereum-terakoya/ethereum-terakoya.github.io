---
title: Session 2 New potential in blockchain research
date: 2021-06-10
slug: students2
group: students
---

## Table of Contents

- 1.Introduction
- 2.Details
  - 2.1 A proof of transaction technology powered by blockchain integration towards greater privacy
  - 2.2 Research on zero-knowledge proof for blockchain use cases
  - 2.3 Discussion
  - 2.4 Conclusions

## List of participants

- Fujitsu Laboratories Ltd.

  - Takuya Sakamoto

- Hitachi, Ltd.

  - Ken Naganuma

* Hakuhodo DY Holdings Inc.

  - YUSUKE ITO

- Couger Inc. (sponsor)

  - Atsushi Ishii

## 1. Introduction

Blockchain research and development is being conducted by various companies. Among this, the latest research themes will be presented by companies currently engaged in research, and the possibilities for the future of blockchain will be discussed.

## 2. Details

### 2.1 A proof of transaction technology powered by blockchain integration towards greater privacy

<p style="margin-top: -1em;font-weight: bold;font-size: 1.2em;margin-left: 1em;">
  Takuya Sakamoto | Senior Researcher, Data & Security Research Division,
  Fujitsu Laboratories Ltd.
</p>

#### Fujitsu's initiatives around blockchain technology

Fujitsu is researching and developing proprietary blockchain solutions based on distributed ledgers, and is widely involved in initiatives that include expanding the functionality of existing technology, such as by strengthening blockchain security; collaborating with various businesses to create an ecosystem in which information and value can be provided in a trusted, inalterable fashion; and other uses of data.

#### Fujitsu's activities in detail

Fujitsu is working with blockchain integration technologies (connection chains), which serve as a basic technology used to enable transactions across multiple, linked blockchains. It is further standardizing some aspects of these connection chains, as well as pursuing standardization of Hyperledger, one of the major blockchain open-source projects, implementing it in the form of Cactus. Other projects include distributed identity solutions, which allow users to autonomously control and use their own identity, and supply chain/token economy solutions designed to support transactions around energy. Fujitsu first began blockchain integration in 2017, followed by creation of a decentralized identity solution in 2019, with research today ongoing. Fujitsu's work in this space is wide-ranging, spanning from developing basic technologies and standardizing them, onto finding new applications.

#### Enhanced privacy, notably for zero-knowledge proof

Privacy today is also being shored up in terms of legislation, and increased privacy has come to be an issue of critical importance when using data pertaining to users. In addition, research into various privacy enhancement technologies is actively underway.

Five of the most-talked about technologies at the World Economic Forum 2019

- Differential privacy: a technology to apply noise to anonymize data using indicators that do not point to the presence of a specific individual within the data
- Pooled analysis: a technology used in conjunction with AI for applications such as calculating and analyzing data while it is still present in diverse locations, eschewing the need to centrally accumulate it
- Homomorphic cryptography: a technology used to perform calculations while data is encrypted
- Secret sharing + MPC: a technology that divides secret data in such a way that the original data cannot be inferred, and uses the individual data pieces to perform calculations and obtain the aggregate results
- Zero-knowledge proof: a technology that can be used to protect the privacy of individual data agnostic of analysis or certification methodology, without exposing the underlying data. Certifying information without exposing the underlying data refers to a method whereby calculations are performed that would only be possible in reference to the original data, acting as a single source of truth. For example, if you demonstrate that you know the private key corresponding to a public key without exposing the private key information, this implies that the attestor knows the private key, and the relying party does not know the private key. Suppose the attestor attempts to convey to the relying party that the former knows the private key. The relying party first generates a random value and passes it to the attestor. The attestor signs the private key with the random value. When the relying party verifies the signature with the public key, it implies that the attestor knows the private key. While the attestor has not exposed the contents of the private key to the relying party, it has conveyed its knowledge of said key's contents, allowing it to verify the authenticity of the transaction without leaking information. While the attestor has not shared the contents of the private key itself with the relying party, it is unable to properly sign the record without access to the private key, enabling it to authentically convey its ownership of said key. Using this paradigm, one is able to attest to the authenticity of various things by developing protocols around them. One such method is zero-knowledge proof, with libraries available as a proof of concept. There are various protocols to that end, such as idemix, zk-SNARKs, and Bulletproof.

#### Decentralized identity and privacy-enhancing technologies

**Decentralized identities explained**

There is growing demand by users for the ability to control their own identity online. Decentralized identity solutions seek to provide a way of controlling one's identity in this way. This is also referred to as self-sovereign identity. In the real world, we obtain a driver's license issued by the police department. This allows you to, for example, use that driver's license as a proof of identification to open a bank account without needing additional approval from the police department. In the cyber world, however, one's identity information exists in disparate locations, but we cannot currently make use of it. That is why today, there are methods being developed to allow a third party to confirm and digitize the content of this identity information and allow the user to autonomously control it without the agency of third parties. This would allow the user to combine the various identity information that pertains to them and use it to open accounts, apply for jobs, enter into apartment lease agreements, and other situations in which paper proof would normally be needed, but do it all online. Decentralized identity is also referred to as decentralized PKI. Recently, a whitepaper issued by parties close to the prime minister at the Trusted Web Promotion Council positioned this as a technology that could be used towards realization of trust. In Europe, it is being explored as a means of demonstrating that a person received COVID-19 vaccination. In this way, decentralized identity is being looked to as a technology that may form a part of the foundations of society and enable trust.

**Issue: maintaining privacy when disclosing identity verification documents**

How should we best go about enabling the use of identity information verified by third parties? One simple implementation might be sending a file containing the identity information to a third party and having the third party digitally sign it; the attestor then sends a file with a digital certificate to a relying party, and the relying party verifies its authenticity before disclosing it to a downstream recipient. Ideally, only the requisite information, and no more, would be disclosed. With typical identity documents, all items must be disclosed at once to verify them, meaning disclosure cannot be constrained to atomic parts of the document.

**Technical solution: secret disclosure certification using zero-knowledge proof**

Fujitsu is developing a protocol that allows for conveying information using zero-knowledge proof without exposing the underlying data. This allows for using part of the data to demonstrate its authenticity, all while not disclosing personally-identifying attributes. Traditionally, the issuer had to decide the scope of identity information to be used. With this updated solution, the attestor and relying party can flexibly accommodate different confidentiality disclosure levels. Fujitsu is also developing IDYX, an identity distribution technology, and has used it in some proof of concept trials. This serves as a platform to provide the functionality necessary for identity distribution, such as mechanisms to calculate issuer credit based on business relations. This allows service users to utilize the technology by disclosing select attributes pertaining to them. Ultimately, it enables disclosing identity information in a private fashion.

#### Blockchain integration and privacy enhancement technologies

**Digital trust and blockchain integrations**

Exchange services and applications used to trade cryptocurrencies such as Bitcoin and altcoins are typically not transparent. In other words, users do not know what is going on behind the scenes, so there may be malfeasance. Moreover, linking multiple blockchains in order to implement transactions across these chains and move and swap money between them can cause failures.

Fujitsu is developing connection chains, which allow for extending the exchange of value and use of smart contracts between blockchains in a transparent manner. This system would replace manual processes with a blockchain solution while lending transparency to the system as a whole.

**Use in the token economy**

This allows for the purchase and sale of rights, which could be used to, for example, use a local currency to purchase the rights to temporary use of a space for teleworking purposes, using points to temporarily borrow a bicycle, or other uses. A record of what was purchased and the personal data of the traders is stored on the distributed ledger.

**Issue: Use of token economy records while maintaining privacy**

There are two major issues here: the first is that transactions are stored in a distributed fashion on connection blockchains, so when disclosing or verifying transaction records, selectively disclosing, out of privacy concerns, only parts of the information, is dependent on the types of blockchains connected in the chain.

The second issue is that this private information must be structured such that consortium companies cannot access it.

**Technical solution: utilizing secret disclosure certification solutions for records**

In this system, administrators configure which types of items can be utilized, allowing for a range of different transaction types. In lieu of transaction records, a ledger for certification is saved, with this certification ledger being used in place of a distributed ledger. This would allow for disclosing the record of the transaction. In this way, we utilize a zero-knowledge proof method of polling and disclosing discrete information.

#### Q&A

**Q1.** Does this solution conform to W3CVC?

**A.** It has not been fully aligned yet. This protocol has been developed to run on Hyperledger Indy and includes the idmx zero-knowledge proof protocol, which has been extended to allow for masking certain characters. Indy is being rebuilt to support W3CVC, so we believe this solution should support it in the future, but it is currently being presented as-is.

**Q2.** How is the identity of individual IDs maintained when connecting to connection chains?

In some cases, transacting parties' IDs are stored on chains by their e-mail, while in other cases, by their name.

**A.** An authentication server is used, with account information sent through that server to enable access.

**Q3.** Do connection chains not present a performance bottleneck?

**A.** We use Hyperledger Fabric for the connection chain. This depends on Hyperledger Fabric, so that would be the chief bottleneck.

**Q4.** What incentives will there be going forward to using connection chains?

**A.** The idea is to charge fees on transactions as a way of realizing the business model.

### 2.2 Research on zero-knowledge proof for blockchain use cases

<p style="margin-top: -1em;font-weight: bold;font-size: 1.2em;margin-left: 1em;">
  Ken Naganuma | Social Systems Research Division, Hitachi, Ltd.
</p>

Graduate of the University of Tokyo. Joined the Hitachi Research and Development Group prior to returning to the University of Tokyo for a master's degree in complexity science and engineering. Upon obtaining that degree, returned once again to Hitachi. Here we feature some of the research Mr. Naganuma performed during his three years at graduate school.

**How can we implement zero-knowledge proof on the blockchain?**

This is used as a means of imposing rules that ensure both transparency and privacy. Blockchain ledger information can be viewed by anyone, which means privacy is not ensured. This means there is total transparency, but zero privacy. However, the private information could be hashed and encrypted. Once encrypted, miners would be unable to confirm the validity of the data. This is where zero-knowledge proof comes in, which allows for demonstrating the authenticity of the transactions.

Mr. Naganuma is conducting doctorate research into zero-knowledge proof (zk-SNARK), with various issues around that subject including a lack of resilience to quantum computing attacks and the question of how to implement parameter generation by trusted third parties.

#### Application: secure smart contracts

**Specific use cases：second-price auctions**

In typical online auctions, such as those on Yahoo! Auctions, users bid the maximum price they are willing to spend, with the top bidder winning. In second-price auctions, the highest bidder pays the price bid by the second-highest bidder. This auction format works in favor of bidders. With distributed ledgers, however, an auction format would fail to be possible if everyone could see the contents of the ledger. This would instead lead to a public bid or open auction, impeding second-price auctions from coming to fruition. If you only allow the seller to see the bid status, it can lead to fraud, whereby the seller executes a smart contract against the second highest price as an argument. In this way, executing second-price auctions on the blockchain can be a challenge. Use of zero-knowledge proof in this case could be achieved by first deploying second-price auction code on the blockchain in the form of a smart contract. The amount bid by each bidder is hashed and kept private in order to prevent fraud and ensure that the system does not slide back into a first-price auction. Public keys could be used to hash the bid prices and then submit those to the seller (the party executing the smart contract), with the seller then executing the smart contract based on that. This allows for calculating the winner and 2nd price. Finally, zero-knowledge proof of the seller actually having executed the contract correctly is stored in the ledger. While the actual bid amounts are not disclosed, this testifies that the correct prices were used. If there were any fraud in the results, miners could check it. The encrypted bid amounts and zero-knowledge proof can be used to verify the validity of the auction results; in this way, zero-knowledge proof enables polling the arguments to a smart contract to obtain a verifiable outcome.

#### Performance evaluation

The evaluation method is designed based on LWE cryptography, out of consideration for resilience to quantum computing attacks, and implemented using some of the functions of libsnark, a standard library of zK-SNARK.

User processing time (generating the zero-knowledge proof) grows relative to the circuit size, with evaluations of the hash function requiring 210 seconds and 300GB of memory to achieve the intended time outcome. However, the problem presented by this is that 300GB is quite large in terms of practical use cases.

The time it takes for a miner to verify zero-knowledge proof is constant and is generally fixed at about 1 millisecond, so it is nevertheless viable in practice.

#### Research summary

・Proposal and implementation evaluation of zK-SNARK method resistant to quantum computing attacks

・Proposal and implementation evaluation of methods that do not require a trusted setup

・Supporting universal circuits

・Design implementation architecture for Hyperledger Fabric

・Creating various gadgets catering to beginners in zero-knowledge proof

#### Future challenges

1. Streamlining the time it takes to generate zero-knowledge proof

Processing takes considerably longer when incorporating resilience to quantum computing attacks, so one issue is finding ways of streamlining this.

2. Offering more gadgets tailored to beginners, and to optimize development time

For many people, using zero-knowledge proof can be technically challenging. Therefore, one present issue is developing tools for a lay audience.

#### Q&A

**Q.** Is there the possibility of data being leaked to a node when executing a smart contract in a second-price auction?

**A.** All of the polled data must be sent solely to the person executing the smart contract. This, too, is one of the issues with this implementation.

**Q.** Are there any incentives to miners verifying the data?

**A.** Since you can obtain Bitcoins and other tokens by validating blocks, it comes with the usual incentives.

**Q.** What versatility does zero-knowledge proof offer? What would be the most typical example?

**A.** There are a variety of use cases; the most typical is money transfer. For example, since all blockchain transactions are currently open, you can ascertain who sold a particular Bitcoin, which affects the market. Using zero-knowledge proof is believed to lead to greater price stability.

In addition, you can sign transactions while keeping personal details anonymous. One reason we are seeing this interest in zero-knowledge proof is how extensive its possible applications are. One key point to zero-knowledge proof is that it allows for handling data in a transparent manner while still ensuring privacy. This makes it easy to use and suitable to a wide range of use cases.

### 2.3 Discussion

#### The limits of zero-knowledge proof

**Sakamoto :** The challenge is how to create a protocol around zero-knowledge proof, to say little of defining what the requirements are for what it is you intend to do. One key question associated with managing identity data is how to properly conceal it in such a way as to protect privacy.

Some people may be of the opinion that insofar as you are disclosing your driver's license, you have already consented to sharing personal information, so the system need not be so restrictive. However, this is a matter of opinion, and requirements differ from person to person.

**Ishii :** On a technical front, we have to consider with each use case how to handle the data. The question becomes how to obtain that data on a case to case basis, which is a challenge. That is where we stand today.

**Naganuma :** I think it's exactly as Mr. Sakamoto says. It's not so much about a theoretical limit, but about the need in actual usage contexts. Transaction data volume is rising, and in turn so are the amounts being traded. It does introduce overhead, so some people ask if it's really worth it to go to that extent to build in privacy.

**Ishii :** We've received a question asking whether a broader application would be, rather than non-disclosure methods for personal information, non-disclosure for corporate data. I think for the individual, the person would have the option to elect how they want to proceed. In the corporate case, there are different kinds of data -- some you need to disclose, and some you don't. Nevertheless, the requirements might be difficult.

**Ito :** Take the content industries. When deciding whether to license IP, one factor influencing the decision-making process that can lead to increased trust in the other party is what kind of transactions they have done in the past. That may include past wire transfers or items subject to confidentiality obligations, so zero-knowledge proof could be used in those cases to compensate for those absolutely confidential elements.

**Ishii :** The end-user must be able to trust that the results returned actually demonstrate the credibility of the other party. That does represent a challenge.

#### Q&A session between Hitachi and Fujitsu

**Naganuma :** Personally, I love the idea of decentralized identity, and I've been trying to get people at Hitachi on board with the concept, but haven't gotten much traction yet. By contrast, Fujitsu is using IDYX to create a downstream package. Some people may feel that centralized solutions like Google ID, Facebook ID, and Apple ID are good enough. Do you get that reaction? How do you tend to reply?

**Sakamoto :** Well, in terms of the identity space, we have a lot of corporate players in the mix. When working on a consortium basis, we would tend to propose using blockchain. However, if internationalizing it, with different parties using such a system, we would tend to advise that it's best not to use a single, unified ID. But this tends to be quite a tricky topic to discuss in the first place. Fujitsu is providing basic technology solutions like platforms, so we feel our role there is catering to those platform needs first and foremost.

**Naganuma :** I'm quite envious to see how you've managed to take it all the way to a finished product.

**Sakamoto :** Well, we owe that not to the research division as such, but another department making the pitch for us and getting it traction towards a trial.

**Ishii :** There tend to be some overhead issues associated with computation of zero-knowledge proof. Are you doing any research on how to improve this, such as in terms of processing speed?

**Naganuma :** SNARK is a bottleneck, so we are working to make incremental progress there.

**Ishii :** Can the algorithm be made faster?

**Naganuma :** There are various approaches. Those include parallelization, or changing the algorithm itself.

**Ishii :** Achieving breakthrough speeds will be unlikely, but if we can achieve processing speed on par with implementations not using zero-knowledge proof, then it should become mainstream.

**Naganuma :** Processing speed does represent one possible limitation of zero-knowledge proof, but that may not definitely be the case all the time. Nevertheless, given the nature of the implementation, it won't be operating like a typical process.

**Ishii :** So in terms of issues around calculations and mining, are you also exploring how best to allocate these processes?

**Sakamoto :** We are working on scalability as well, but basically, things slow when you use a blockchain, so there's been some discussion about to what extent to perform this on a second layer blockchain. It's exceedingly difficult to achieve fast algorithms with zero-knowledge proof, so it's not a domain we are working on. There are faster protocols coming out these days, so we are amenable to using them. Nevertheless, the goal is zero-knowledge proof, so it's not going to be as fast as implementations without that. So you do get some overhead, to some extent.

#### Remaining questions

**Q.** There is research in the HR space into use of blockchain--however, it's struggling to gain wider acceptance, since one of the key issues is the inability to demonstrably prove whether someone's career history is real. Are you floating any ideas around using zero-knowledge proof to aid in reference checks or the like?

**A.** 

**Naganuma : ** I think Fujitsu's IDYX could definitely be used there. If brick and mortar universities themselves go out of favor, then it would fall on the individual to manage their own diplomas and other documents.

**Sakamoto : ** If everyone agrees to switch to submitting diplomas and resumes on such a system, it could be used for reference checks. In that case, it's less a hard and fast requirement than it is that it would be desirable for the individual user to retain their certificates and be able to submit them, so you may not necessarily need zero-knowledge proof there. There are already services that allow people to issue their own diplomas.

**Q.** As someone researching zero-knowledge proof, have you witnessed any major changes over the past few years? Or do you see anything coming down the pipeline?

**A.** 

**Naganuma:** The concept of zero-knowledge proof has been around since the 1980s, but research really ramped up after it started being used in blockchain. Cryptographic researchers involved in Gcash and other solutions suddenly made a fortune. It was quite a surprise. It had been something seen as more of a toy or a bit of trivia you could write a paper about for a conference, not something that could be turned into a profit so suddenly.

**Sakamoto :** It seems that Japan has also taken an interest in similar implementations, albeit a bit different from zero-knowledge proof. Japan launched the Trusted Web Promotion Council and is trying to create a platform that would be analogous to EID.
If this leads to Japan using blockchain to create some new technology, my sense is that it will usher in a lot of change.

### 2.4 Conclusions

**Ito :** To summarize today's talk, my impression was that, in a word, the point of zero-knowledge proof is its use in blockchain. Mr. Naganuma's comments on zero-knowledge proof gaining wider recognition through blockchain hit home for me in the sense of, to use Mr. Ishii's words on the subject, blockchain being a means of "describing physical laws in the context of digital." In other words, using digital technology to attest to your ownership of goods. One sticking point, though, is that while in the physical world, people may not know what you have in your home, when it's digital, it's all out there in the open. I had some misgivings about that, but the idea of using zero-knowledge proof to compensate for this flaw and be able to disclose goods online in a way more proximate to how we do in real life made sense, and I feel it's something essential for blockchain going forward.

**Ishii :** It really comes down to that idea of balancing transparency and privacy. If we reach an age where the concept of sovereign borders erodes, and we move from traditional assets like currency, we may see a need to manage and transfer other types of digital data assets like NFTs. The more that becomes the norm, the more we can't simply have total transparency with everything, and the question becomes how to ensure privacy. As Mr. Naganuma said, zero-knowledge proof as a concept came about in the 1980s, but it only came into practical use after coming into the spotlight through blockchain technology. That means that there's a good chance that other algorithms or formulae that were previously on backburner may suddenly emerge thanks to developments in blockchain. It sort of resembles developments in the AI space.
