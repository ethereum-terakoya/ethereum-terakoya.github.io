---
title: 【イーサリアム財団トップリサーチャー登壇】ゼロ知識証明の最新動向とQ&A
date: 2021-06-22
slug: zero-knowledge-proof
group: students
---

## 公開動画

公開 AMA イベントの動画は以下で公開しています。

<div class="blog-block">
  <ul>
    <li>
      <a
        href="https://www.youtube.com/watch?v=ilG-FdmMZpc&ab_channel=ETHTerakoya"
        target="_blank"
      >
        【イーサリアム財団トップリサーチャー登壇】ゼロ知識証明の最新動向とQ&A(通訳あり)
      </a>
    </li>
  </ul>
  <p class="sub">
    ⇒
    <a
      href="https://www.youtube.com/channel/UCnfgzeNn_90Iq6MHXO3wp5A"
      target="_blank"
    >
      ETHTerakoya Youtubeアカウント
    </a>
  </p>
</div>

## 登壇者

![Barry Whitehat](./images/Barry_Whitehat.png)

- **Barry Whitehat:**
  Ethereum Foundation- Applied ZKP researcher

<div class="pict-introduction" style="padding: 0.5em">
  多くのスケーリングとプライバシーに関するプロジェクトをリード。zksnarks
  を使ったミキサーの実装、zkrollup や optimistic rollups
  の構築などを行う。プライバシーと自由について情熱を持っており、Ethereum
  のエコシステムにおいて複数のチームにアドバイスを行う。
</div>

<div class="mt-4"></div>

![Aya Miyaguchi](./images/aya.png)

- **宮口あや:**
  Ethereum Foundation（イーサリアム財団） , エグゼクティブ・ディレクター

<div class="pict-introduction" style="padding: 0.5em">
  サンフランシスコ州立大でMBAを取得後、13年同市にて仮想通貨取引所「Kraken」の立ち上げに参加。18年2月にEthereum
  Foundationのエグゼクティブ
  ・ディレクターに就任。財団のトップとして、創設者ヴィタリック・ブテリンと共にイーサリアムの研究開発とオープンソースのコミュニティの発展に務める。19年にWorld
  Economic Forumグローバルブロックチェーン理事、Ethereum Enterprise Alliance
  理事にも就任。
</div>

<div class="mt-4"></div>

<p style="margin-top: 1em;font-weight: bold;font-size: 1.2em;margin-left: 0em;">
  モデレーター
</p>

- **長沼　健**：
  日立製作所

- **石黒 一明**：
  クーガー株式会社, チーフブロックチェーンアーキテクト

- **石井 敦**：
  クーガー株式会社, CEO

## 構成

1. Overview <br/> 1.【イーサリアム財団トップリサーチャー登壇】ゼロ知識証明の最新動向と Q&A(通訳あり)
2. Session <br/>
   2.1. イーサリアムのゼロ知識証明最新動向 ｜ Barry Whitehat <br/>
   2.1.1. メディアにおけるプライバシー <br/>
   2.1.2. ゼロ知識証明について <br/>
3. ゼロ知識証明 Q&A <br/>
4. Conclusion

## Overview

セキュリティやコストの面では課題が残っている状況ではあるが、確実に進捗を見せている Ethereum2.0。難しい開発環境でありながらも、高い志を持って開発を進めている事が今回のイベントを通じて感じ取れた。今後予定されているマージ作業以降は、さらなる状況の変化が予測される。

## Session

### イーサリアムのゼロ知識証明最新動向

<p style="margin-top: -1em;font-weight: bold;font-size: 1.2em;margin-left: 1em;">
  Barry Whitehat
</p>

#### 1. メディアにおけるプライバシー

**1.1 プライバシーの定義について**

プライバシーとは個人、もしくはそのグループ内で決めたルールに沿って情報の提供内容を制限できるものである。情報開示の制限を設けなければ無限に情報が共有され、DOS 攻撃のターゲットになる可能性も出て来る。そこで重要となるのが Relative privacy という考え方であり、個人の証明者ではなくグループに帰属した個人として行動するという事である。この様な考え方により、仮に個人の行動内容が分からない状態でも、正準値により相対的に情報開示の状態を管理する事が可能だ。

**1.2 アプリケーション運用におけるプライバシー**

たとえば匿名のメッセージボードにおけるプライバシーの場合、匿名なので利用者の個人情報は一切共有されないし、誰でも使用する事が可能である。ただし、インターネット掲示板に何かの情報を開示するという事は大きな範囲の中で情報が取り扱われるという事であり、物理的に掲示板にチラシを貼り付ける行為とは全く違うと言えるでしょう。オンラインでは無限にアカウントを作り、投稿数にも制限がないため過去の投稿との紐づけが為されず風評が発生しないという特性がある。そのため、ソーシャルメディアという領域では本当の意味でのプライバシーに関しての実験が為されておらず、今後実験していく価値があると言えるだろう。

**1.3 透明性のあるソーシャルメディアについて**

Facebook や tiktok は匿名のメッセージボードに比べてプライバシーに関しての透明性が高いメディアであると言える。こうした透明性の高いメディアには個人を証明するためのシステムがあり、個人の風評や評価を確かめる事ができるのが匿名のメディアとの大きな違いである。facebook と tiktok は同じ様な仕組みを再実装する事で構築されている。そのため、私個人の考え方としては再実装するのではなく同じシステムを共有したほうが良いのではないかとも感じているが、企業同士の力関係などもあり現状では実現が難しいのだろう。

**1.4 中立的なソーシャルメディア**

企業間の問題を解消するには中立的なソーシャルメディアが必要となる。ソーシャルメディア自体が中立であれば企業同士で力関係を気にする必要がなくなり、どの企業でも容易に参入する事が可能となるだろう。しかし、このシステムを実現するには情報の透明性という問題点を克服しなければならない。ユーザーの情報を大きな範囲で公開するには課題が多く、現状では実現が難しいとされている。もしも完璧なシステムを構築できる事があれば、政府による個人 ID の管理からプライベートな情報まで、あらゆる分野で活用する事が可能となるはずだ。

**1.5 分散型ソーシャルメディアの実現**

分散型ソーシャルメディアとは、利用がお互いに投稿や評価などの作業を自由に行えるメディアである。実現には風評システムが重要であり、自分の行った投稿に対しての評価が把握できるシステムでなければならない。そうした個人への評価が社会的なシステムと繋がる事により、さらに有効的なシステムを実現できる。今後の課題としてはコンテンツの提案やコミュニティー間の調整、衝突防止のインフラ整備などが重要となるだろう。

<div class="mt-4"></div>

#### 2. ゼロ知識証明について

**2.1 ゼロ知識証明とは**

仮にチャーリーとデイブ、アリスとボブの 2 組のグループが存在したとする。この 2 組のグループは自分がどちらのグループに属しているのかを明らかにせずとも、自らを証明する事が可能である。こうした仕組みにより 4 名はプライベートな投稿が可能であり、フォーラム形成も行える。しかし、この場合投稿に関しての評価を得るも失う事も出来ない。

**2.2 Unirep という考え方**

評価を得る事も失う事も出来ないという問題点を解消するには Unirep という考え方が有効である。Unirep では暫定的なアドレスを介する事で評価の受け取りを実現し、個人情報の秘匿性も保たれる。仮にアリスが投稿した場合、Unirep を利用すれば所属グループを開示する事なく評価が得られるという事である。

**2.3 Unirep に期待する事**

良い評価を集める事で何かしらの特典を受けられる様になれば、という希望がある。例えば一定数以上の評価を得られたらデブコンのチケットが無料で貰えるなど、特典と結び付ける事で様々な商品展開が可能であると感じている。

**2.4 ダイレクトメッセージについて**

ダイレクトメッセージの場合、誰が誰にメッセージを送ったのかという情報を隠す必要が生まれる。全てのメッセージを暗号化や複合化する事は難しく、それが出来なければ攻撃に対しての脆弱性が生まれる要因となるだろう。また、攻撃したユーザーに対しての特定も出来ないため、攻撃者に対して何かしらの罰を与えるという事も困難である。仮に Unirep の機能を用いてマイナス評価を与えたとしても罰としての役割は期待できない。

**2.5 RLN(Rate Limit Nodefire)**

RLN はダイレクトメッセージ機能において Unirep に代わり効果的であるとされる方法である。RLN では最初にグループのメンバーシップを証明する。ここで演算を行う事により Secret share というプライベートキーを活用する。これにより share が明らかになればプライベートキーが何かが分かる様になるため他の情報を開示する必要がなくなる。罰則はプライベートキーをスラッシュするなどスマートコントラクト上で行うようにする。RLN は他の場面でも展開されており、グループチャットや p2p などで活用されている。チェーン上で proof of list を構成し、自分が誰かを明かさずに相手を検索し繋がる事も可能である。ただし、あまりスケーリング自体は得意ではなく、あくまで小さなネットワーク上での活用が有効的であると言える。

**2.6 コミュニティー間におけるモデレーション**

モデレーションにおいては、マルチシグを使い投票を募る様なシステムがある。この方法の場合、膨大な作業が発生する事が予想されるため予測市場の様な物を作成し事前に有効・無効の判断をしなければならない。また、ライバル問題を解消するためには衝突防止のインフラ整備が必要であり、これが実現できればクアドラティックボーティングの様なメカニズムも活用できる様になる。クアドラティックボーティングが実装できれば良い・悪いといった単純な評価ではなく、更に深い評価が可能となるだろう。

**2.7 Maci について**

Maci はクアドラティックなページをマージさせる事が可能である。現在はクアドラティックフ・ファンディングという手法により、様々な場所で資金調達を行っている。今後の課題としては UI や UX の改善が必要であると感じている。また、Maci がどの様な取り扱いになるかも掘り下げていく必要があり、今後様々な統治関係におけるポータルで使用された際に投票システムとして組み込まれれば興味深い内容となるだろう。

**2.8 今後の課題**

今後はプライバシーを用いた風評システムなどを用い、より潤沢で多用な評価を行っていく。多くの可能性を秘めているシステムであるため、様々な仕組みを考え実験していく事で大変興味深い成果が得られると考えている。

<div class="mt-4"></div>

#### 3. ゼロ知識証明 Q&A

<div class="mt-4"></div>
<p style="margin-top: -1em;font-weight: bold;font-size: 1.2em;margin-left: 1em;">
  モデレーター: 石黒 一明、長沼 健
</p>

#### Q1. ゼロ知識証明を理解するために 1 から学ぶにはどうしたら良いか？

まずは ZKP を使い応用するのが良いだろう。また、ヴィタリックが行うセミナーに参加するのも効果的だと思われる。私も参加したが、様々な事をハイレベルで学ぶ事が可能であり、FFT の分野にも繋げる事ができるため非常に有意義だ。

#### Q2. ERC725 - Ethereum Identity Standard に関しての見解を教えてください

ERC725 に関してはさほど深く理解している訳ではないが、追加情報として分散型 ID と self solving について話しをさせてもらう。まず分散型 ID とは何なのかという所だが、分散型とは ID を発行した側なのかユーザー側なのかという疑問があるだろう。仮にユーザー側が ID をコントロールしているという事であれば self solving となる。これは個人の証明をどのように行うかという点で非常に重要である。self solving はユーザー側が自由に ID をコントロールできるという利点があるが、他のグループが中央的な力を活用する事でリムーブする事が可能となってしまうという特性もある。

#### Q3. ロールアップによって複数の取引をまとめて 1 つのオンチェーンの取引を作る仕

組みを教えてください、また上限はあるのでしょうか？
ゼロ知識のロールアップを活用する事により、1 つのユースケース間でいくつかの取引をまとめる事が可能である。また、ゼロ知識証明には制限値があり、まとめられる上限は決められている。制限値は多項式を別の多項式で割れる限界の値であり、それが出来なくなった時点で限界とされている。情報量を拡大する方法としてリカージョンというものがあり、この方法を活用する事で制限値の中でも使える情報を増やしていく事は可能だ。将来的にはゼロ知識のロールアップをスマートコントラクト上で行えるようになればと考えている。

#### Q4. Unirep などプロジェクトの実装状況について教えてください

Unirep に関しては pre 実装済みである。発表した今後の内容に関しては展望であり、具体的に実装が予定されているものではない。

#### Q5. 次々と新しい技術が発表されますが、新技術の採用にはどの様なプロセスがあるのでしょうか？

Ethereum Foundation としてどうかは私のほうから答えられないが、個人的には様々な興味深いプロジェクトが存在している中で可能性が高い物が選ばれていると思う。最終的なところではコミュニティーが何を使いたいかという点に大きく左右される。Ethereum2.0 に関してはどの様なプロセスで決定されているのか私も全ては把握していないが、実務的なところから重点的に決まっていくのではないかと考えている。

#### Q6. リカージョンを使用した例で何か興味深いものがあれば教えてください

fat solver にゼロ知識証明を使用し、解決していくというのは興味深い例と言えるだろう。これまで高価で難しかった事でもリカージョンを使用する事で実現可能となる事も増えるはずだ。また、ゼロ知識証明を利用する事により、これまで多くの演算式を用いていた処理も簡潔に済ませられるようになる。今後挑戦していきたい事としては、集計・集約を用いた検索機能の仕組みを構築していきたいと考えている。

#### Q7. アプリケーションによるパフォーマンスへの影響について教えてください

計算量を少なく抑える事が出来ればパフォーマンスへの影響も少なくて済むのだが、現状はユースケースによって計算量は変わるためパフォーマンスへの影響が大きい場合もある。例えば VM での proof of validity の場合は影響はあるだろうが、演算力は十分に発揮できると思われる。ただし、携帯電話の様なデバイスでは十分な演算力は発揮できない事が予測されるため、ゼロ知識証明を用いて早く proof を出せる仕組みを構築していかなければならない。

#### Q8. ゼロ知識証明はどこまで普及すると考えていますか？また、難解さにより一般化する印象を受けない部分もありますが、どの様な解決策を考えているのでしょうか？

ゼロ知識証明は使用できる範囲がかなり広いため、十分に普及する可能性を秘めていると考えている。今までサインが必要だった場面においては全てゼロ知識証明が取って替われるため、これだけでもかなりの普及率と言えるだろう。また、ゼロ知識証明が難解で普及しにくいという意見に関しては、一度触れてみたら印象はガラッと変わるはずだと考えている。確かに技術的に説明する事が難しいという点はあるが、現実世界にある物と連動した例があれば受け入れやすくなるはずだ。しかし現実世界の物を例にしづらい技術も存在し、私が現在行っている Unirep という考え方はプライバシーがグローバルな物に含まれてしまうという考え方であり、理解を得るのは難解であると感じている。しかし、過去のインターネットと同様に最初は意味が分からずとも利用されていくうちに理解は広まっていくのではないかと考えている。

#### Q9. Barry Whitehat というのはセキュリティ・エンジニアとして素晴らしい名前ですが本名なのでしょうか？

本名ではありません。ただ、哲学的な考え方をするのならば『名前とは何か？』という疑問に当たってしまうため、Barry Whitehat は私にとって名前であると言えるでしょう。

#### 4. Conclusions

新技術の開発が目覚ましい速度で行われている Ethereum。続々と情報が開示されていく中で、その情報に追い付くだけでも大変だと感じている方も多くいる事だろう。しかし、それでも新しい情報に触れ、興味を持ったのならば積極的に研究に参加し、Ethereum に触れる機会を作っていくべきである。なぜならば、この技術はこれからの未来にとって掛け替えのない物であり、必ず自分自身にとって大きな財産となる分野であると言えるからだ。
