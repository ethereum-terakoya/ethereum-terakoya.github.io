---
title: 第1回「Ethereum 2.0」
date: 2020-11-30
slug: eth2-1
group: ethereum2.0
---

## ワーキンググループ報告書

公開ワークショップの資料は以下で公開しています。

<div style="background-color:#e7e7e7;border:1px solid #a9a9a9;width: 80%;margin-top: 1rem;margin-bottom: 1rem;margin-left:3rem;">
  <ul style="list-style-type: square; margin: 1rem 0.5rem;">
    <li>
      <a href="/pdf/eth2.0/ETHTerakoya × Blockchain EXE - Ethereum2.0.pdf" target="_blank">
        2020年11月版 Ethereum 2.0 概要
      </a>
    </li>
  </ul>
</div>

## 公開ワークショップ動画

公開ワークショップの動画は以下で公開しています。

<div style="background-color:#e7e7e7;border:1px solid #a9a9a9;width: 80%;margin-top: 1rem;margin-bottom: 1rem;margin-left:3rem;">
  <ul style="list-style-type: square;margin: 1rem 0.5rem;">
    <li>
      <a href="https://youtu.be/q5LetCEd38s" target="_blank">
        ワークショップ「Ethereum 2.0」
      </a>
    </li>
  </ul>
  <p style="margin: 1rem 0 1rem 3rem;">
    ⇒<a
      href="https://www.youtube.com/channel/UCnfgzeNn_90Iq6MHXO3wp5A"
      target="_blank"
    >
      ETHTerakoya Youtubeアカウント
    </a>
  </p>
</div>

## 構成

1. Overview
   1. ワークショップ「Ethereum 2.0」
2. Detail
   1. Ethereum 2.0の概要について | Daniel Tehrani
   2. ディスカッション・質疑応答 | Daniel Tehrani、西村 祥一、石黒 一明

## Overview

### 1-1. ワークショップ「Ethereum 2.0」

Ethereum2.0への移行を目指し、2020年12月よりBeacon chainがスタートした。これを機に、今後は加速度的に実装を進める計画があると思われる。

今回は潮流をキャッチアップすべく、大型アップデートの内容について専門家と意見交換を行った。Ethereumへの参入検討者・開発者に対し、Ethereumについて知る機会を提供することで、今後の展開に関心を持って頂きたいと考えている。


2022年に移行完了を予定しているEthereum2.0ではあるが、未だ全ての情報が明確に提示されてはいない。しかしながら予定通りにPhaseが進み運用が開始されれば、現在よりも多くの場面でEthereumが活用される事になるであろう。

世界的に需要が高まり多くのユーザーが集まれば、現在よりも価格は安価となり、より身近な存在となる事が予想される。今後、続々と開示されるであろう新情報には、より一層の注目が集まる事は必然である。

## Detail

### 2-1. Ethereum2.0の概要について

<p style="margin-top: -1em;font-weight: bold;font-size: 1.2em;margin-left: 1em;">
  株式会社ICOVO Japan｜Daniel Tehrani
</p>

![インターネット投票の実現にむけて](./images/slides.png)

#### 2-1-1 Ethereumとは

・パブリックなブロックチェーンであり誰でも参加することが可能。

・分散型アプリケーション(DApps)やスマート・コントラクタを構築するためのプラットフォームである。

#### 2-1-2 Ethereum2.0とは

・Ethereumの大型アップグレード版。

・Ethereumが抱えている問題(スケーラビリティ、セキュリティ、サステナビリティ、環境負荷など)を解決するために新しい技術が導入されている。

#### 2-1-3 proof of stakeとは

・Etereum2.0ではproof of work(マイニング)はproof of stakeへ変更された。

・Stakingとはコインを預けてネットワークに貢献しつつ報酬を得る事である。最小単位は32ETHであり、チェーンのバリデートをする事で報酬が得られる(約1%～25%)。プロトコル通りの行動をしなかった場合、ステークは没収される。

・proof of workではマイニングの能力を基にコンセンサスを得ていたが、proof of stakeではコインの保有量を基にコンセンサスを得るようになった。

・悪意のある行動をした場合、proof of workでは消費した電力が無駄になるため正しい行動をするインセンティブになっていたが、proof of stakeでは悪意のある行動をしたらコインを失う事により正しい行動をするインセンティブになっている。

・ステークされているETHが少なければ少ない程バリデータあたりのリターンは大きくなり、ETHが多ければ多い程全体の発行量が増えるためバリデータあたりのリターンは少なくなる。

・1度預けたETHは約2年間引き出す事が出来ない。

#### 2-1-4 Staking poolとは

・32ETHを用意することが難しい方でも参入が可能。

・ノードを用意するなどの技術面に関しては抽象化されており、32ETH以下からステークが出来る。

・複数人で32ETHを集めた後、バルクを作りステークを行う。

・自分で秘密鍵を管理できない場合が多く、安全面に関してはリスクがある。

#### 2-1-5 Sharding

・Ethereum2.0に新しく導入されたShardingとはチェーンを分割する事であり、分割して作業を行う事で処理速度の向上を実現している。

・チェーンは64個に分割され、Beacon Chainによって統括されている。

・Beacon Chainはproof of stakeとShardingの統制を行っており、Ethereum2.0移行の鍵と言えるチェーンである。

#### 2-1-6 移行フェーズについて

Ethereum2.0は段階的にローンチされ、最終形となるのは約2年後とされている。

・Phase 0：Beacon Chainスタート(2020年12月1日予定)

・Phase 1：Shardingの実装(2021年予定)

・Phase1.5：EthereumとEthereum2.0のドッキング(2021～2022年)

・Phase2： 具体的な内容は未定

#### 2-1-7 Ethereum2.0の技術的解説

◆Shardingの技術的課題

・全てのノードが全てのトランザクションを実行しなければいけないため、スケールしていないという課題がある。

・スケールするにはノードの処理能力を上げるなどの垂直なスケーリングが必要。

・並行処理などの水平なスケーリングでは中央集権化しない。

・Beacon chainにてバリデータが64のサブセットに分けられるが、その場合1shardあたりのステークが低くなり、セキュリティ面で問題が起こる可能性が懸念されている。

・疑似乱数を生成するRANDAOを使用し、定期的にバリデータをシャッフルする事で悪意のある攻撃を予防できる。

◆Slots and Epochs

①Slots

・Slotsはブロックのためのスロットであり、12秒ごとにブロックが追加される。

・Beacon chainとShard chains、両方に適用される概念である。

・これまでのEthereumにはSlotsは無く、ブロック高という概念が存在していた。

②Epochs

・1Epochs = 32Slots

・1Slotsは12秒であるため、1Epochsは6.4分になる。

◆バリデータ紹介

・バリデータはProposerかAttesterとして仕事を行う。

・Proposerはランダムに選ばれるものであり、ブロックの生成を行う。

・AttesterはProposerが生成したブロックに投票を行うものであり、Proposerと同様にランダムに選ばれる。

・バリデータの集合体であるCommitteesはepochの初めにSlot毎に割り当てられる。

・最小128のバリデータで1つの Committeesとなる。

・バリデータは1epoch内で1つの Committeesにしか属せない。

・ Committees内のバリデータはチェーンの先頭であると信じられるブロックに投票する。

◆投票(LMD GHOST)

・Attesterは先頭であるブロックに投票を行う。

・Slot0、1、2とあった場合、Slot2の担当のAttesterはSlot1のブロックを無効としてSlot0に投票を行う。この投票方式をLMD GHOSTと呼ぶ。

---

**中間質疑**

**石井**：
アップデートによって複雑化していると思われるが、エンジニアにとって開発のしやすさなどの変化はあるか。

**Daniel**：
Ethereum2.0が普及すれば、それに合わせたツールが出てくると思われる。プロトコルレベルでは特に開発しやすくなった点はない。

**石井**：
ETH2.0になる事で処理速度は改善したか。

**Daniel**：
現状でははっきりとした速度の変化は分からない。今後Shardingの開発がどの様に進められるかによって、速度は変わってくると思われる。また、ロールアップなど他の技術との兼ね合いもあり、まだ不明な点は数多く残っている。

**石井**：
最初に高額な資金が必要になるため、若者・学生などにはハードルが高い。もっと少額で参加する方法はないか。

**Daniel**：
Staking poolを利用すれば少額でも参加する事は可能。0.01ETHでも参加する事ができるためハードルは大幅に下がる。

**石井**：
アップデートによってビジネスでの活用にプラスとなる事はあるか。具体的な用途など。

**Daniel**：
第一に手数料の低下が挙げられる。またトランザクションも早くなるため、一般に広く普及しやすくなると考えられる。仮想通貨同士の貸借やゲームでの使用など、活用シーンも増えていくのではないか。

**石井**：
Ethereum2.0にとっての脅威やリスクについてはどうか。

**Daniel**：
未だ不明な点は多いが、Ethereumの法的な立ち位置は懸念されている。今後開発が進んだ際に、規制リスクが立ちはだかるのではないかと危惧している。

### 2-2. ディスカッション

#### 2-2-1. ETH2.0への貢献方法

**石黒**：
バリデータになるためにLaunch Padを使う方法があるが、それ以外の方法はあるか。

**西村**：
自分でバリデータになる事自体ハードルが高く、テクニカル面で理解ができない場合、頓挫する事もある。直近の有名な事例では、コンセンシスがStakingサービスを開始するという話があったが、消費者向けというよりも大規模な投資を行う層に向けた内容となっている。

**石黒**：
例えばEthereumやビットコインが出てきた頃は、マイニングプールの様なサービスを提供していたが、同様のトレンドを向かえているということか。

**西村**：
以前は自宅にマイニングマシンを置き、そこで計算したものをプールにサブミットするといったスタイルであったが、現在はStakingのプールとなるとコインを置くというスタイルに変更されているため、自宅に機械は不要となっている。そのため、ハードルはかなり下がっていると言える。

**石黒**：
「バリデータのハードルが高い」とは具体的にどのようなことか。

**西村**：
32ETHを手に入れるハードル、そして自宅でバリデータノードを動かすための機械のセットアップなど、テクニカルな知識のハードルがある。
Stakingをする秘密鍵の管理が不十分な場合、ETHが失くなってしまう事もリスクである。また、24時間365日オンライン状態を保つ必要がある点も個人にとってはハードルが高いといえる。

**Daniel**：
個人でバリデータをたてるハードルは確かに高いが、分散型のStakingプールなどを利用すればある程度は参入しやすくなる。

**西村**：
Stakingサービスでも種類があり、ETH自体を預けるものもあれば、サーバー・技術のみを提供するサービスもある。高度なものでは、StakingされているETHをトークン化し、更に疑似流通させるといった話も出てきている。

**石黒**：
Beacon chainはクライアントによる違いなどはあるか。

**西村**：
どこが良いという物ではなく、マルチクライアントで動くという事が重要。1つのプロトコルに従って動いているため、ノードは何を使用しても問題ない。サービスを選ぶ時は1つのクライアントに依存したものではなく、複数のクライアントが関わっているものを選ぶ方が良いのではないか。

**石黒**：
Beacon chainはメタマスクでのカスタムRPC切り替えで使う想定か。

**Daniel**：
前提としてPhase0の段階ではBeacon chainがたつのみであり、全機能が利用できるわけではない。そのため、今の段階ではBeacon chainをカスタムRPCで使用する事はできない。今後Phaseが進めば可能になると思われるが、随時状況は変わるものと考えている。

**石黒**：
Stakingに参加した場合の報酬の支払いタイミングについて、明確な取り決めはあるか。

**西村**：
預けたETHを取り出せる時期はまだ明確になっていない。報酬の割合については参加人数・投資額により変動する。

#### 2-2-2. 企業や団体としてサービスを展開するために

**石黒**：
例えば取引所などでStakingサービスを始めようとする動きはあるか。

**西村**：
バイナンスやコンセンシスなどでは、サービスの準備に取り掛かっているような動きがみられる。預かっているETHはStakingで回さなければ報酬が得られないため、各社で今後の運用について検討しているのではないか。

**石黒**：
Stakingで報酬が得られるとした場合、法律面の問題が出てくると思われる。国内で法律面に対する動きは出てきているか。

**西村**：
取引所に預けているETHへ報酬が出た場合の扱いについて、積極的な議論はまだ起きていない。Staking全体に関してはワーキンググループなどが主体となり、議論は進んでいると感じる。Stakingの問題点として、報酬の発生源が不明瞭という課題があり、どのように規制すべきか争点となっている。

**石黒**：
Ethereumからコスモスプラットフォームへの転向をよく耳にするが、実情はどうか。

**西村**：
一時期Ethereumの料金が高騰しており、手数料が高すぎて送金などが出来ない状況になっていた。その当時、他の手数料が安いプラットフォームへ移る動きはあった。

**石黒**：
Ethereum2.0に移行するにあたり、Dappsの開発者が対応すべき事はあるか。

**西村**：
現時点でテストできる事は少ないが、事前に勉強し業界の動向に注目しておくことは重要と思う。

**Daniel**：
未決仕様も多いが、情報が公開され次第対応できる態勢を整えておくべき。

**石黒**：
Ethereum2.0は大規模なネットワークの実装にもかかわらず、完了予定までの期間が短く感じる。安全面などの不安はないか。

**Daniel**：
今後クライアントの会社が監査を受けるという話は聞いている。ネットワークの監査はできないため、安全性を確保するには各クライアントを監査して対応するしかない。

**石黒**：
今後Ethereum2.0に期待する改善点はあるか。

**西村**：
Dappsを作っている立場で考えた場合、1番改善したいのは料金の仕組み。1つのサービスが混み合うと他のサービスにも影響が出る仕組みでは、ビジネス的に先が読めなくなってしまうため改善が必要と感じている。また、一般ユーザーが使用しやすいようなインターフェースの開発は必要と考える。

**Daniel**：
Ethereumは拡張性が高く、あらゆる機能の実現が可能だと考えている。今後は更に幅広い分野で活用されるよう、推進活動をして欲しい。

**石黒**：
Ethereum開発者の強さにはどのような理由があると考えているか。

**西村**：
まずはコミュニティの圧倒的な大きさ。開発ツール類が初期から充実していたため、開発に取り組みやすかったことも強みである。

**Daniel**：
コミュニティが大きいためにツールが充実し、ツールが充実しているからコミュニティが大きくなるという相乗効果が生まれている。

#### 2-2-3. Phase0その後

**石黒**：
Phase0.5で実装されるライトクライアントとは何か。

**西村**：
これまではブロックチェーンのデータを持っていなければクライアントになれなかったという不満点に対し、自分に関係のあるデータさえ持っていれば、クライアントになれるという機能を実現させるためのソフトウェアである。

**石黒**：
ライトクライアントがPhase1のShardingに移る際に役立つという事か。

**Daniel**：
Shardingが必要な背景には、ロールアップはレイヤー1の技術であり、Shardingはレイヤー2の技術であるため、更新しやすくなることがある。レイヤー1は他の機能への影響が大きいため更新はなるべく減らし、主にレイヤー2を更新して対処するといった使い方が可能である。

**石黒**：
Phase1.5で行うETH1とETH2のマージは具体的に何を想定しているのか。

**Daniel**：
現段階では詳細な内容は公開されておらず、Phase1.5の段階でETH1とETH2のデータを統合する予定であるという事だけは聞いている。

**石黒**：
Phase2以降に関してもはっきり分からない状態か。

**Daniel**：
ライトクライアントに関しては、以前はPhase2以降に実装される予定だったと記憶している。Phase2以降の情報も一部は公開されているが、今後変更される可能性も十分にある。

**石黒**：
Ethereum2.0に移行していく事で、経済面ではどのような変化があるか。

**西村**：
報酬に関しても明示されていないため、影響は評価できない。

**Daniel**：
今までマイニングをしていた人達がEthereum2.0でマイニング不可となったらどうするかは気になる。他に移るのか、2.0に適応するのか、それにより経済への影響も違ってくるのではないか。

**石黒**：
Ethereumは料金が高いと言われているが、どう考えているか。

**西村**：
手数料の水準が高く変動も激しいため、ユーザーフレンドリーではないと感じている。Ethereum2.0への移行により安くなるとは断言でないが、十分な需要が満たされるようになれば価格が落ち着く事も考えられる。
